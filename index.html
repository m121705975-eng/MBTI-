<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>趣味科学16人格测试 | 探索未知的自己</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+SC:wght@300;400;500;700&family=Rubik:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #ec4899;
            --secondary-dark: #db2777;
            --accent: #06b6d4;
            --light: #f8fafc;
            --dark: #1e293b;
            --gray: #64748b;
            --success: #10b981;
            --warning: #f59e0b;
            --danger: #ef4444;
            --shadow-sm: 0 1px 3px rgba(0,0,0,0.12);
            --shadow-md: 0 4px 6px -1px rgba(0,0,0,0.1);
            --shadow-lg: 0 10px 25px -5px rgba(0,0,0,0.1);
            --shadow-xl: 0 20px 50px -12px rgba(0,0,0,0.25);
            --radius: 12px;
            --radius-lg: 20px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Noto Sans SC', sans-serif;
            background: linear-gradient(135deg, #f0f4ff 0%, #fef6ff 100%);
            color: var(--dark);
            line-height: 1.6;
            min-height: 100vh;
            padding-bottom: 60px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* 头部样式 */
        .header {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
            padding: 2rem 0;
            text-align: center;
            border-radius: 0 0 30px 30px;
            box-shadow: var(--shadow-lg);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 100%;
            background: url("data:image/svg+xml,%3Csvg width='100' height='100' viewBox='0 0 100 100' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11 18c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm48 25c3.866 0 7-3.134 7-7s-3.134-7-7-7-7 3.134-7 7 3.134 7 7 7zm-43-7c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm63 31c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM34 90c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zm56-76c1.657 0 3-1.343 3-3s-1.343-3-3-3-3 1.343-3 3 1.343 3 3 3zM12 86c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm28-65c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm23-11c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-6 60c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm29 22c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zM32 63c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm57-13c2.76 0 5-2.24 5-5s-2.24-5-5-5-5 2.24-5 5 2.24 5 5 5zm-9-21c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM60 91c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM35 41c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2zM12 60c1.105 0 2-.895 2-2s-.895-2-2-2-2 .895-2 2 .895 2 2 2z' fill='%23ffffff' fill-opacity='0.05' fill-rule='evenodd'/%3E%3C/svg%3E");
            opacity: 0.3;
        }
        
        .header-content {
            position: relative;
            z-index: 1;
        }
        
        .logo {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            font-family: 'Rubik', sans-serif;
            font-size: 2.2rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
        }
        
        .logo-icon {
            background: var(--accent);
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 5px 15px rgba(6, 182, 212, 0.4);
        }
        
        .header h1 {
            font-size: 2rem;
            margin-bottom: 1rem;
            font-weight: 700;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            max-width: 700px;
            margin: 0 auto 1.5rem;
        }
        
        /* 主内容区域 */
        .main-content {
            padding: 2rem 0;
        }
        
        /* 卡片样式 */
        .card {
            background: white;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-md);
            padding: 2rem;
            margin-bottom: 2rem;
            transition: var(--transition);
        }
        
        .card:hover {
            box-shadow: var(--shadow-lg);
        }
        
        /* 介绍卡片 */
        .intro-card {
            text-align: center;
        }
        
        .intro-card h2 {
            color: var(--primary);
            font-size: 1.8rem;
            margin-bottom: 1rem;
        }
        
        .intro-card p {
            color: var(--gray);
            margin-bottom: 1.5rem;
        }
        
        .features {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .feature {
            padding: 1.5rem;
            background: #f8fafc;
            border-radius: var(--radius);
            text-align: center;
        }
        
        .feature i {
            font-size: 2.2rem;
            color: var(--primary);
            margin-bottom: 1rem;
        }
        
        .feature h3 {
            font-size: 1.1rem;
            margin-bottom: 0.5rem;
        }
        
        .feature p {
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        /* 开始按钮 */
        .start-btn {
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: white;
            font-size: 1.2rem;
            font-weight: 600;
            padding: 1rem 2.5rem;
            border-radius: 50px;
            border: none;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            margin: 2rem auto;
            box-shadow: 0 10px 20px rgba(236, 72, 153, 0.3);
        }
        
        .start-btn:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(236, 72, 153, 0.4);
        }
        
        .start-btn:active {
            transform: translateY(-2px);
        }
        
        /* 测试容器 */
        .test-container {
            display: none;
        }
        
        .test-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
            padding-bottom: 1.5rem;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .test-info {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .test-badge {
            background: var(--accent);
            color: white;
            padding: 0.5rem 1rem;
            border-radius: 50px;
            font-weight: 600;
            font-size: 0.9rem;
        }
        
        .question-counter {
            color: var(--primary);
            font-weight: 600;
        }
        
        .progress-container {
            margin-bottom: 2rem;
        }
        
        .progress-bar {
            height: 10px;
            background: #e2e8f0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress {
            height: 100%;
            background: linear-gradient(90deg, var(--primary), var(--secondary));
            border-radius: 5px;
            width: 0%;
            transition: width 0.5s ease;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-top: 0.5rem;
            font-size: 0.9rem;
            color: var(--gray);
        }
        
        /* 问题容器 */
        .question-container {
            margin-bottom: 2rem;
        }
        
        .question-text {
            font-size: 1.4rem;
            margin-bottom: 1.5rem;
            line-height: 1.5;
            color: var(--dark);
        }
        
        .question-image {
            width: 100%;
            height: 250px;
            object-fit: cover;
            border-radius: var(--radius);
            margin-bottom: 1.5rem;
            box-shadow: var(--shadow-md);
        }
        
        /* 选项容器 */
        .options-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1rem;
        }
        
        @media (max-width: 768px) {
            .options-container {
                grid-template-columns: 1fr;
            }
        }
        
        .option {
            padding: 1.5rem;
            border: 2px solid #e2e8f0;
            border-radius: var(--radius);
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 15px;
            background: white;
        }
        
        .option:hover {
            border-color: var(--primary);
            transform: translateY(-3px);
            box-shadow: var(--shadow-md);
        }
        
        .option.selected {
            border-color: var(--primary);
            background: linear-gradient(135deg, rgba(99, 102, 241, 0.05) 0%, rgba(99, 102, 241, 0.1) 100%);
            box-shadow: 0 5px 15px rgba(99, 102, 241, 0.15);
        }
        
        .option-icon {
            width: 40px;
            height: 40px;
            background: #f1f5f9;
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--primary);
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .option.selected .option-icon {
            background: var(--primary);
            color: white;
        }
        
        .option-text {
            flex: 1;
        }
        
        /* 导航按钮 */
        .navigation {
            display: flex;
            justify-content: space-between;
            margin-top: 2rem;
        }
        
        .btn {
            padding: 0.9rem 1.8rem;
            border: none;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }
        
        .btn-primary:hover:not(:disabled) {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: var(--dark);
        }
        
        .btn-secondary:hover:not(:disabled) {
            background: #e2e8f0;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn:disabled:hover {
            transform: none;
            box-shadow: none;
        }
        
        /* 加载动画 */
        .loading-container {
            display: none;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            padding: 4rem 2rem;
            text-align: center;
        }
        
        .loading-spinner {
            width: 80px;
            height: 80px;
            border: 8px solid #f1f5f9;
            border-top: 8px solid var(--primary);
            border-radius: 50%;
            animation: spin 1.5s linear infinite;
            margin-bottom: 1.5rem;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        .loading-text {
            font-size: 1.2rem;
            color: var(--primary);
            margin-bottom: 0.5rem;
        }
        
        .loading-subtext {
            color: var(--gray);
        }
        
        /* 结果容器 */
        .result-container {
            display: none;
        }
        
        .result-header {
            text-align: center;
            margin-bottom: 2rem;
            padding-bottom: 2rem;
            border-bottom: 1px solid #e2e8f0;
        }
        
        .result-header h2 {
            color: var(--primary);
            font-size: 2.2rem;
            margin-bottom: 0.5rem;
        }
        
        .result-header p {
            color: var(--gray);
            font-size: 1.1rem;
            max-width: 600px;
            margin: 0 auto;
        }
        
        /* 人格画像 */
        .personality-portrait {
            margin: 2rem 0;
            position: relative;
        }
        
        .portrait-container {
            position: relative;
            width: 100%;
            max-width: 600px;
            margin: 0 auto;
        }
        
        .personality-image {
            width: 100%;
            border-radius: var(--radius-lg);
            box-shadow: var(--shadow-lg);
            display: block;
        }
        
        .personality-badge {
            position: absolute;
            top: 20px;
            right: 20px;
            background: linear-gradient(135deg, var(--secondary) 0%, var(--secondary-dark) 100%);
            color: white;
            padding: 0.8rem 1.5rem;
            border-radius: 50px;
            font-weight: 700;
            font-size: 1.2rem;
            box-shadow: var(--shadow-md);
        }
        
        /* 结果内容 */
        .result-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 2rem;
            margin-bottom: 2rem;
        }
        
        .result-section {
            background: white;
            border-radius: var(--radius);
            padding: 1.8rem;
            box-shadow: var(--shadow-md);
        }
        
        .section-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 1.5rem;
            color: var(--primary);
        }
        
        .section-header i {
            font-size: 1.5rem;
        }
        
        .section-header h3 {
            font-size: 1.3rem;
        }
        
        /* 标签样式 */
        .tags-container {
            display: flex;
            flex-wrap: wrap;
            gap: 0.8rem;
            margin-top: 1rem;
        }
        
        .tag {
            padding: 0.6rem 1rem;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 500;
        }
        
        .tag-positive {
            background: rgba(16, 185, 129, 0.1);
            color: #047857;
            border: 1px solid rgba(16, 185, 129, 0.2);
        }
        
        .tag-negative {
            background: rgba(239, 68, 68, 0.1);
            color: #b91c1c;
            border: 1px solid rgba(239, 68, 68, 0.2);
        }
        
        .tag-neutral {
            background: rgba(245, 158, 11, 0.1);
            color: #b45309;
            border: 1px solid rgba(245, 158, 11, 0.2);
        }
        
        /* 列表样式 */
        .career-list, .suggestion-list {
            list-style-type: none;
            padding-left: 0;
        }
        
        .career-list li, .suggestion-list li {
            padding: 0.8rem 0;
            border-bottom: 1px dashed #e2e8f0;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .career-list li:last-child, .suggestion-list li:last-child {
            border-bottom: none;
        }
        
        .career-list i {
            color: var(--success);
        }
        
        .suggestion-list i {
            color: var(--warning);
        }
        
        /* 结果操作 */
        .result-actions {
            display: flex;
            justify-content: center;
            gap: 1.5rem;
            margin-top: 2.5rem;
            flex-wrap: wrap;
        }
        
        .result-btn {
            padding: 1rem 2rem;
            border-radius: var(--radius);
            font-weight: 600;
            cursor: pointer;
            transition: var(--transition);
            display: flex;
            align-items: center;
            gap: 10px;
            border: none;
        }
        
        .result-btn-retake {
            background: #f1f5f9;
            color: var(--dark);
        }
        
        .result-btn-retake:hover {
            background: #e2e8f0;
            transform: translateY(-2px);
        }
        
        .result-btn-share {
            background: linear-gradient(135deg, var(--accent) 0%, #0891b2 100%);
            color: white;
        }
        
        .result-btn-share:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(6, 182, 212, 0.3);
        }
        
        .result-btn-download {
            background: linear-gradient(135deg, var(--primary) 0%, var(--primary-dark) 100%);
            color: white;
        }
        
        .result-btn-download:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 20px rgba(99, 102, 241, 0.3);
        }
        
        /* 页脚 */
        .footer {
            text-align: center;
            padding: 2rem 0;
            margin-top: 3rem;
            color: var(--gray);
            border-top: 1px solid #e2e8f0;
            font-size: 0.9rem;
        }
        
        .footer p {
            margin-bottom: 0.5rem;
        }
        
        /* 响应式调整 */
        @media (max-width: 768px) {
            .header h1 {
                font-size: 1.6rem;
            }
            
            .logo {
                font-size: 1.8rem;
            }
            
            .question-text {
                font-size: 1.2rem;
            }
            
            .result-header h2 {
                font-size: 1.8rem;
            }
            
            .features {
                grid-template-columns: 1fr;
            }
            
            .result-actions {
                flex-direction: column;
                align-items: center;
            }
            
            .result-btn {
                width: 100%;
                max-width: 300px;
                justify-content: center;
            }
        }
        
        /* 动画 */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease forwards;
        }
        
        /* 维度指示器 */
        .dimension-indicator {
            display: flex;
            justify-content: space-between;
            margin: 1.5rem 0;
            background: #f8fafc;
            padding: 1.5rem;
            border-radius: var(--radius);
        }
        
        .dimension {
            text-align: center;
            flex: 1;
        }
        
        .dimension-name {
            font-weight: 600;
            margin-bottom: 0.5rem;
            color: var(--dark);
        }
        
        .dimension-value {
            font-size: 1.2rem;
            font-weight: 700;
            color: var(--primary);
        }
    </style>
</head>
<body>
    <!-- 头部 -->
    <header class="header">
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-user-secret"></i>
                </div>
                <span>PersonaQuest</span>
            </div>
            <h1>趣味科学16人格测试</h1>
            <p>基于MBTI心理学理论，通过32道精心设计的趣味问题，探索未知的自己，解锁个性密码</p>
        </div>
    </header>
    
    <!-- 主内容 -->
    <div class="container main-content">
        <!-- 介绍部分 -->
        <section id="intro-section" class="intro-section fade-in">
            <div class="card intro-card">
                <h2>准备好探索未知的自己了吗？</h2>
                <p>本测试基于心理学经典的MBTI人格类型理论，通过四个维度评估你的个性倾向，最终将你归入16种独特人格类型之一。</p>
                <p>我们设计了32道生动有趣的图文选择题，每道题都结合了心理学研究和生活场景，确保测试既科学又有趣。</p>
                
                <div class="features">
                    <div class="feature">
                        <i class="fas fa-brain"></i>
                        <h3>科学可靠</h3>
                        <p>基于心理学权威理论</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-gamepad"></i>
                        <h3>趣味互动</h3>
                        <p>游戏化测试体验</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-chart-pie"></i>
                        <h3>16种人格</h3>
                        <p>全面覆盖个性类型</p>
                    </div>
                    <div class="feature">
                        <i class="fas fa-bullseye"></i>
                        <h3>精准分析</h3>
                        <p>提供个性化建议</p>
                    </div>
                </div>
                
                <button id="start-test" class="start-btn">
                    <i class="fas fa-play-circle"></i> 开始探索之旅
                </button>
                
                <p style="font-size: 0.9rem; color: var(--gray); margin-top: 1rem;">完成测试大约需要8-10分钟</p>
            </div>
        </section>
        
        <!-- 测试部分 -->
        <section id="test-section" class="test-container">
            <div class="card">
                <div class="test-header">
                    <div class="test-info">
                        <span class="test-badge">16人格测试</span>
                        <span class="question-counter">问题 <span id="current-question">1</span>/32</span>
                    </div>
                    <div class="timer" id="timer">用时: 00:00</div>
                </div>
                
                <div class="progress-container">
                    <div class="progress-bar">
                        <div class="progress" id="progress-bar"></div>
                    </div>
                    <div class="progress-text">
                        <span>测试进度</span>
                        <span id="progress-percent">0%</span>
                    </div>
                </div>
                
                <div class="question-container">
                    <h2 class="question-text" id="question-text"></h2>
                    <img class="question-image" id="question-image" src="" alt="问题配图">
                    
                    <div class="options-container" id="options-container">
                        <!-- 选项通过JS动态生成 -->
                    </div>
                </div>
                
                <div class="navigation">
                    <button id="prev-btn" class="btn btn-secondary">
                        <i class="fas fa-arrow-left"></i> 上一题
                    </button>
                    <button id="next-btn" class="btn btn-primary">
                        下一题 <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
        </section>
        
        <!-- 加载部分 -->
        <section id="loading-section" class="loading-container">
            <div class="loading-spinner"></div>
            <h3 class="loading-text">正在分析你的个性特征...</h3>
            <p class="loading-subtext">我们正在将你的答案与16种人格类型进行匹配</p>
            <div class="dimension-indicator" id="dimension-indicator">
                <!-- 维度指示器将通过JS动态生成 -->
            </div>
        </section>
        
        <!-- 结果部分 -->
        <section id="result-section" class="result-container">
            <div class="card">
                <div class="result-header">
                    <h2 id="personality-type">INFJ - 提倡者</h2>
                    <p id="personality-title">富有想象力和战略的思想家，一切行为皆由理想指引</p>
                </div>
                
                <!-- 人格画像 -->
                <div class="personality-portrait">
                    <div class="portrait-container">
                        <img class="personality-image" id="personality-image" src="" alt="人格类型画像">
                        <div class="personality-badge" id="personality-badge">INFJ</div>
                    </div>
                </div>
                
                <!-- 维度指示器 -->
                <div class="dimension-indicator" id="result-dimensions">
                    <div class="dimension">
                        <div class="dimension-name">外向(E) / 内向(I)</div>
                        <div class="dimension-value" id="dimension-ei">I: 65%</div>
                    </div>
                    <div class="dimension">
                        <div class="dimension-name">实感(S) / 直觉(N)</div>
                        <div class="dimension-value" id="dimension-sn">N: 72%</div>
                    </div>
                    <div class="dimension">
                        <div class="dimension-name">思维(T) / 情感(F)</div>
                        <div class="dimension-value" id="dimension-tf">F: 68%</div>
                    </div>
                    <div class="dimension">
                        <div class="dimension-name">判断(J) / 感知(P)</div>
                        <div class="dimension-value" id="dimension-jp">J: 61%</div>
                    </div>
                </div>
                
                <!-- 结果内容 -->
                <div class="result-content">
                    <div class="result-section">
                        <div class="section-header">
                            <i class="fas fa-user-circle"></i>
                            <h3>性格画像</h3>
                        </div>
                        <p id="personality-description">INFJ型人格是16型人格中最稀少的类型之一，他们具有与生俱来的理想主义和道德感，但真正令他们与其他理想主义人格类型区分开来的是，他们果断决绝。他们不是懒散的空想家，而是能脚踏实地完成目标，留下深远的积极影响的人。他们把帮助他人作为生活的意义，虽然你会在营救活动和慈善工作中发现他们的身影，但他们的真正理想是从根本上解决问题，让人们一开始就不会陷入困境。</p>
                        
                        <div class="tags-container">
                            <div class="tag tag-positive">富有创造力</div>
                            <div class="tag tag-positive">鼓舞人心</div>
                            <div class="tag tag-positive">有说服力</div>
                            <div class="tag tag-positive">坚定信念</div>
                            <div class="tag tag-positive">利他主义</div>
                        </div>
                    </div>
                    
                    <div class="result-section">
                        <div class="section-header">
                            <i class="fas fa-balance-scale"></i>
                            <h3>优势与劣势</h3>
                        </div>
                        <div style="margin-bottom: 1.5rem;">
                            <h4 style="color: var(--success); margin-bottom: 0.8rem;">优势</h4>
                            <div class="tags-container">
                                <div class="tag tag-positive">富有创意</div>
                                <div class="tag tag-positive">见解深刻</div>
                                <div class="tag tag-positive">原则性强</div>
                                <div class="tag tag-positive">热情坚定</div>
                                <div class="tag tag-positive">利他主义</div>
                            </div>
                        </div>
                        
                        <div>
                            <h4 style="color: var(--danger); margin-bottom: 0.8rem;">劣势</h4>
                            <div class="tags-container">
                                <div class="tag tag-negative">过于敏感</div>
                                <div class="tag tag-negative">极度私密</div>
                                <div class="tag tag-negative">完美主义</div>
                                <div class="tag tag-negative">容易倦怠</div>
                                <div class="tag tag-negative">不愿妥协</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="result-section">
                        <div class="section-header">
                            <i class="fas fa-briefcase"></i>
                            <h3>职业方向</h3>
                        </div>
                        <ul class="career-list" id="career-list">
                            <!-- 职业列表将通过JS动态生成 -->
                        </ul>
                    </div>
                    
                    <div class="result-section">
                        <div class="section-header">
                            <i class="fas fa-lightbulb"></i>
                            <h3>发展建议</h3>
                        </div>
                        <ul class="suggestion-list" id="suggestion-list">
                            <!-- 建议列表将通过JS动态生成 -->
                        </ul>
                    </div>
                </div>
                
                <!-- 结果操作按钮 -->
                <div class="result-actions">
                    <button id="retake-test" class="result-btn result-btn-retake">
                        <i class="fas fa-redo"></i> 重新测试
                    </button>
                    <button id="share-result" class="result-btn result-btn-share">
                        <i class="fas fa-share-alt"></i> 分享结果
                    </button>
                    <button id="download-result" class="result-btn result-btn-download">
                        <i class="fas fa-download"></i> 保存结果
                    </button>
                </div>
            </div>
        </section>
    </div>
    
    <!-- 页脚 -->
    <footer class="footer">
        <div class="container">
            <p>© 2023 PersonaQuest | 趣味科学16人格测试</p>
            <p>本测试基于MBTI人格理论，仅供娱乐和自我探索参考，不作为专业心理评估工具</p>
            <p>设计用于GitHub Pages部署 | 图片来源于Unsplash，仅用于示例</p>
        </div>
    </footer>

    <script>
        // 测试题目数据（精简版，实际应有32题）
        const questions = [
            {
                id: 1,
                text: "当你在周末早晨醒来，你更倾向于如何安排一天？",
                image: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                options: [
                    { text: "提前规划好一天的活动，按计划行事", dimension: "J", value: 1 },
                    { text: "看心情决定做什么，保持灵活", dimension: "P", value: 1 }
                ]
            },
            {
                id: 2,
                text: "在解决问题时，你更依赖什么？",
                image: "https://images.unsplash.com/photo-1553877522-43269d4ea984?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                options: [
                    { text: "逻辑分析和客观数据", dimension: "T", value: 1 },
                    { text: "个人价值观和他人感受", dimension: "F", value: 1 }
                ]
            },
            {
                id: 3,
                text: "你更喜欢哪种类型的书籍或电影？",
                image: "https://images.unsplash.com/photo-1512820790803-83ca734da794?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1198&q=80",
                options: [
                    { text: "基于现实，讲述实际生活的故事", dimension: "S", value: 1 },
                    { text: "充满想象力，探索可能性的作品", dimension: "N", value: 1 }
                ]
            },
            {
                id: 4,
                text: "参加社交聚会后，你通常感觉如何？",
                image: "https://images.unsplash.com/photo-1516939884465-2782ba2e2c96?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                options: [
                    { text: "精力充沛，还想继续社交", dimension: "E", value: 1 },
                    { text: "感到疲惫，需要时间独处恢复", dimension: "I", value: 1 }
                ]
            },
            {
                id: 5,
                text: "当你学习新技能时，你更倾向于？",
                image: "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1172&q=80",
                options: [
                    { text: "一步一步按照指导手册操作", dimension: "S", value: 1 },
                    { text: "先理解整体概念，再尝试创新", dimension: "N", value: 1 }
                ]
            },
            {
                id: 6,
                text: "做重要决定时，你主要考虑什么？",
                image: "https://images.unsplash.com/photo-1580894894513-541e068a3e2b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                options: [
                    { text: "客观事实和逻辑推理", dimension: "T", value: 1 },
                    { text: "人际关系和个人价值观", dimension: "F", value: 1 }
                ]
            },
            {
                id: 7,
                text: "你的工作空间通常是什么样的？",
                image: "https://images.unsplash.com/photo-1497366754035-f200968a6e72?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1169&q=80",
                options: [
                    { text: "整洁有序，每样东西都有固定位置", dimension: "J", value: 1 },
                    { text: "有些杂乱，但我知道东西在哪", dimension: "P", value: 1 }
                ]
            },
            {
                id: 8,
                text: "当你感到压力时，你倾向于？",
                image: "https://images.unsplash.com/photo-1544367567-0f2fcb009e0b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1220&q=80",
                options: [
                    { text: "与他人交谈，寻求支持", dimension: "E", value: 1 },
                    { text: "独自思考，自我调节", dimension: "I", value: 1 }
                ]
            }
        ];

        // 人格类型结果数据
        const personalityTypes = {
            "INFJ": {
                title: "提倡者",
                description: "INFJ型人格是16型人格中最稀少的类型之一，他们具有与生俱来的理想主义和道德感，但真正令他们与其他理想主义人格类型区分开来的是，他们果断决绝。他们不是懒散的空想家，而是能脚踏实地完成目标，留下深远的积极影响的人。他们把帮助他人作为生活的意义，虽然你会在营救活动和慈善工作中发现他们的身影，但他们的真正理想是从根本上解决问题，让人们一开始就不会陷入困境。",
                image: "https://images.unsplash.com/photo-1544717305-99670f9c28f3?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1130&q=80",
                strengths: ["富有创意", "见解深刻", "原则性强", "热情坚定", "利他主义"],
                weaknesses: ["过于敏感", "极度私密", "完美主义", "容易倦怠", "不愿妥协"],
                careers: ["心理咨询师", "作家/记者", "社会工作者", "人力资源", "教育工作者", "非营利组织管理者"],
                suggestions: ["学会设置界限，避免过度投入", "接受不完美，减少自我批评", "寻找表达创意的出口", "定期安排独处时间恢复能量", "建立支持系统分享内心想法"],
                dimensionPercentages: {
                    "E/I": { I: 65, E: 35 },
                    "S/N": { N: 72, S: 28 },
                    "T/F": { F: 68, T: 32 },
                    "J/P": { J: 61, P: 39 }
                }
            },
            "ENFP": {
                title: "竞选者",
                description: "ENFP人格类型是真正的自由灵魂。他们常常是聚会上的焦点，但是与眼前的兴奋和快乐相比，他们更享受与人们建立的社会和情感联系。富有魅力，独立，精力充沛且有同情心，占人口7%的他们在人群中随处可见。他们洋溢着热情和魅力，但ENFP们不仅仅是热闹的朋友，他们还有深刻的内心世界和强大的价值观，这引导着他们的行动。",
                image: "https://images.unsplash.com/photo-1517486808906-6ca8b3f8cd0e?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1049&q=80",
                strengths: ["热情洋溢", "富有想象力", "善于交际", "乐观向上", "适应力强"],
                weaknesses: ["难以专注", "过于理想化", "容易分心", "厌恶常规", "过度承诺"],
                careers: ["营销专员", "活动策划", "心理咨询师", "艺术指导", "教师", "创业家"],
                suggestions: ["学习时间管理和优先级排序", "设定可实现的小目标", "培养专注力训练", "寻找可以将创意落地的伙伴", "学会说'不'，避免过度承诺"],
                dimensionPercentages: {
                    "E/I": { E: 70, I: 30 },
                    "S/N": { N: 68, S: 32 },
                    "T/F": { F: 65, T: 35 },
                    "J/P": { P: 62, J: 38 }
                }
            },
            "ISTJ": {
                title: "物流师",
                description: "ISTJ人格类型以正直，务实，恪尽职守著称，他们愿意为自己的行为负责，努力完成目标。ISTJ型人格严肃、安静、勤奋且专注，无论他们做什么，都会做得很扎实。他们重视传统和忠诚，珍视那些历经时间考验的制度。ISTJ们思维缜密，注重事实和细节，他们以可靠和务实著称，对家庭、朋友和组织忠诚。",
                image: "https://images.unsplash.com/photo-1580894894513-541e068a3e2b?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                strengths: ["诚实正直", "责任心强", "注重细节", "坚持不懈", "务实可靠"],
                weaknesses: ["固执己见", "不擅变通", "忽视情感", "抗拒改变", "过于严肃"],
                careers: ["会计师", "审计师", "行政管理", "工程师", "数据分析师", "项目经理"],
                suggestions: ["学会灵活应对计划外变化", "表达对他人情感的认可", "尝试新的方法和视角", "在工作中加入创意元素", "培养工作外的兴趣爱好"],
                dimensionPercentages: {
                    "E/I": { I: 72, E: 28 },
                    "S/N": { S: 68, N: 32 },
                    "T/F": { T: 65, F: 35 },
                    "J/P": { J: 70, P: 30 }
                }
            },
            "ENTP": {
                title: "辩论家",
                description: "ENTP人格类型是故意持相反意见的人，善于看到可能性的真相。他们机智、聪明、精力充沛，对新的想法和体验充满热情。ENTP们喜欢智力挑战，善于发现可能性，并迅速建立联系。他们能看到别人看不到的模式，并享受分析这些模式。他们善于战略思考，但可能会忽视细节和实际执行。",
                image: "https://images.unsplash.com/photo-1542744173-8e7e53415bb0?ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D&auto=format&fit=crop&w=1170&q=80",
                strengths: ["知识渊博", "思维敏捷", "富有创意", "充满活力", "善于交际"],
                weaknesses: ["容易争论", "缺乏耐心", "不擅执行", "难以专注", "忽视情感"],
                careers: ["企业家", "律师", "咨询顾问", "市场营销", "软件开发", "系统分析师"],
                suggestions: ["培养耐心和坚持完成项目的能力", "学习考虑他人感受", "找到能将创意落地的合作伙伴", "练习积极倾听技巧", "设定明确的目标和截止日期"],
                dimensionPercentages: {
                    "E/I": { E: 68, I: 32 },
                    "S/N": { N: 72, S: 28 },
                    "T/F": { T: 65, F: 35 },
                    "J/P": { P: 62, J: 38 }
                }
            }
        };

        // 全局变量
        let currentQuestion = 0;
        let answers = [];
        let userPersonalityType = "";
        let testStartTime = null;
        let timerInterval = null;

        // DOM元素
        const introSection = document.getElementById('intro-section');
        const testSection = document.getElementById('test-section');
        const loadingSection = document.getElementById('loading-section');
        const resultSection = document.getElementById('result-section');
        const startTestBtn = document.getElementById('start-test');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const retakeTestBtn = document.getElementById('retake-test');
        const shareResultBtn = document.getElementById('share-result');
        const downloadResultBtn = document.getElementById('download-result');
        const questionText = document.getElementById('question-text');
        const questionImage = document.getElementById('question-image');
        const optionsContainer = document.getElementById('options-container');
        const currentQuestionSpan = document.getElementById('current-question');
        const progressBar = document.getElementById('progress-bar');
        const progressPercent = document.getElementById('progress-percent');
        const timerElement = document.getElementById('timer');
        
        // 结果页面元素
        const personalityTypeElement = document.getElementById('personality-type');
        const personalityTitleElement = document.getElementById('personality-title');
        const personalityImageElement = document.getElementById('personality-image');
        const personalityBadgeElement = document.getElementById('personality-badge');
        const personalityDescriptionElement = document.getElementById('personality-description');
        const careerListElement = document.getElementById('career-list');
        const suggestionListElement = document.getElementById('suggestion-list');
        const dimensionEI = document.getElementById('dimension-ei');
        const dimensionSN = document.getElementById('dimension-sn');
        const dimensionTF = document.getElementById('dimension-tf');
        const dimensionJP = document.getElementById('dimension-jp');

        // 初始化测试
        function initTest() {
            // 重置状态
            currentQuestion = 0;
            answers = [];
            userPersonalityType = "";
            
            // 显示测试部分，隐藏其他部分
            introSection.style.display = 'none';
            testSection.style.display = 'block';
            loadingSection.style.display = 'none';
            resultSection.style.display = 'none';
            
            // 启动计时器
            startTimer();
            
            // 加载第一题
            loadQuestion(currentQuestion);
            
            // 更新进度条
            updateProgressBar();
        }

        // 开始计时器
        function startTimer() {
            testStartTime = new Date();
            clearInterval(timerInterval);
            
            timerInterval = setInterval(() => {
                const currentTime = new Date();
                const elapsed = Math.floor((currentTime - testStartTime) / 1000);
                const minutes = Math.floor(elapsed / 60);
                const seconds = elapsed % 60;
                timerElement.textContent = `用时: ${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }

        // 加载题目
        function loadQuestion(index) {
            const question = questions[index];
            
            // 更新题目编号
            currentQuestionSpan.textContent = index + 1;
            
            // 设置题目文本
            questionText.textContent = question.text;
            
            // 设置题目图片
            questionImage.src = question.image;
            questionImage.alt = `问题${index + 1}配图`;
            
            // 清空选项容器
            optionsContainer.innerHTML = '';
            
            // 添加选项
            question.options.forEach((option, optionIndex) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'option';
                optionElement.dataset.index = optionIndex;
                
                // 检查是否已选择该选项
                if (answers[index] === optionIndex) {
                    optionElement.classList.add('selected');
                }
                
                optionElement.innerHTML = `
                    <div class="option-icon">${String.fromCharCode(65 + optionIndex)}</div>
                    <div class="option-text">${option.text}</div>
                `;
                
                optionElement.addEventListener('click', () => selectOption(optionIndex));
                optionsContainer.appendChild(optionElement);
            });
            
            // 更新按钮状态
            prevBtn.disabled = index === 0;
            nextBtn.innerHTML = index === questions.length - 1 ? 
                '查看结果 <i class="fas fa-chart-bar"></i>' : 
                '下一题 <i class="fas fa-arrow-right"></i>';
        }

        // 选择选项
        function selectOption(optionIndex) {
            // 移除所有选项的选中状态
            document.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // 添加当前选项的选中状态
            document.querySelector(`.option[data-index="${optionIndex}"]`).classList.add('selected');
            
            // 保存答案
            answers[currentQuestion] = optionIndex;
            
            // 启用下一步按钮
            nextBtn.disabled = false;
        }

        // 更新进度条
        function updateProgressBar() {
            const progress = ((currentQuestion + 1) / questions.length) * 100;
            progressBar.style.width = `${progress}%`;
            progressPercent.textContent = `${Math.round(progress)}%`;
        }

        // 下一题
        function nextQuestion() {
            // 确保已选择答案
            if (answers[currentQuestion] === undefined) {
                alert('请先选择一个答案');
                return;
            }
            
            // 如果是最后一题，显示结果
            if (currentQuestion === questions.length - 1) {
                showResults();
                return;
            }
            
            // 加载下一题
            currentQuestion++;
            loadQuestion(currentQuestion);
            updateProgressBar();
        }

        // 上一题
        function prevQuestion() {
            if (currentQuestion > 0) {
                currentQuestion--;
                loadQuestion(currentQuestion);
                updateProgressBar();
            }
        }

        // 显示结果
        function showResults() {
            // 停止计时器
            clearInterval(timerInterval);
            
            // 隐藏测试部分，显示加载部分
            testSection.style.display = 'none';
            loadingSection.style.display = 'flex';
            
            // 模拟计算过程
            setTimeout(() => {
                // 计算人格类型
                calculatePersonality();
                
                // 显示结果部分
                loadingSection.style.display = 'none';
                resultSection.style.display = 'block';
                
                // 滚动到顶部
                window.scrollTo({ top: 0, behavior: 'smooth' });
            }, 2000);
        }

        // 计算人格类型
        function calculatePersonality() {
            // 初始化维度得分
            const dimensionScores = {
                "E": 0, "I": 0,
                "S": 0, "N": 0,
                "T": 0, "F": 0,
                "J": 0, "P": 0
            };
            
            // 计算每个维度的得分
            answers.forEach((answerIndex, questionIndex) => {
                if (answerIndex !== undefined) {
                    const question = questions[questionIndex];
                    const selectedOption = question.options[answerIndex];
                    dimensionScores[selectedOption.dimension] += selectedOption.value;
                }
            });
            
            // 确定人格类型
            const personalityCode = 
                (dimensionScores["E"] > dimensionScores["I"] ? "E" : "I") +
                (dimensionScores["S"] > dimensionScores["N"] ? "S" : "N") +
                (dimensionScores["T"] > dimensionScores["F"] ? "T" : "F") +
                (dimensionScores["J"] > dimensionScores["P"] ? "J" : "P");
            
            // 保存人格类型
            userPersonalityType = personalityCode;
            
            // 显示结果
            displayResults(personalityCode);
        }

        // 显示结果
        function displayResults(personalityCode) {
            // 获取人格类型数据（如果未定义，使用默认INFJ）
            const personalityData = personalityTypes[personalityCode] || personalityTypes["INFJ"];
            
            // 更新结果页面
            personalityTypeElement.textContent = `${personalityCode} - ${personalityData.title}`;
            personalityTitleElement.textContent = personalityData.description.substring(0, 60) + "...";
            personalityImageElement.src = personalityData.image;
            personalityBadgeElement.textContent = personalityCode;
            personalityDescriptionElement.textContent = personalityData.description;
            
            // 更新维度指示器
            const percentages = personalityData.dimensionPercentages;
            dimensionEI.textContent = `${dimensionScores["E"] > dimensionScores["I"] ? "E" : "I"}: ${percentages["E/I"][dimensionScores["E"] > dimensionScores["I"] ? "E" : "I"]}%`;
            dimensionSN.textContent = `${dimensionScores["S"] > dimensionScores["N"] ? "S" : "N"}: ${percentages["S/N"][dimensionScores["S"] > dimensionScores["N"] ? "S" : "N"]}%`;
            dimensionTF.textContent = `${dimensionScores["T"] > dimensionScores["F"] ? "T" : "F"}: ${percentages["T/F"][dimensionScores["T"] > dimensionScores["F"] ? "T" : "F"]}%`;
            dimensionJP.textContent = `${dimensionScores["J"] > dimensionScores["P"] ? "J" : "P"}: ${percentages["J/P"][dimensionScores["J"] > dimensionScores["P"] ? "J" : "P"]}%`;
            
            // 更新职业列表
            careerListElement.innerHTML = '';
            personalityData.careers.forEach(career => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-check-circle"></i> ${career}`;
                careerListElement.appendChild(li);
            });
            
            // 更新建议列表
            suggestionListElement.innerHTML = '';
            personalityData.suggestions.forEach(suggestion => {
                const li = document.createElement('li');
                li.innerHTML = `<i class="fas fa-lightbulb"></i> ${suggestion}`;
                suggestionListElement.appendChild(li);
            });
        }

        // 重新测试
        function retakeTest() {
            initTest();
        }

        // 分享结果
        function shareResult() {
            const shareText = `我的16人格测试结果是：${userPersonalityType} - ${personalityTypes[userPersonalityType]?.title || "提倡者"}！你也来测试一下吧！`;
            
            if (navigator.share) {
                navigator.share({
                    title: '我的16人格测试结果',
                    text: shareText,
                    url: window.location.href
                });
            } else {
                // 如果不支持Web Share API，则复制到剪贴板
                navigator.clipboard.writeText(shareText + " " + window.location.href)
                    .then(() => {
                        alert('结果已复制到剪贴板！你可以粘贴分享给朋友了。');
                    })
                    .catch(err => {
                        console.error('复制失败:', err);
                        alert('分享失败，请手动复制当前网址分享给朋友。');
                    });
            }
        }

        // 下载结果
        function downloadResult() {
            const resultContent = `
16人格测试结果
===============

人格类型: ${userPersonalityType}
类型名称: ${personalityTypes[userPersonalityType]?.title || "提倡者"}

性格描述:
${personalityTypes[userPersonalityType]?.description || personalityTypes["INFJ"].description}

维度分析:
- 外向(E)/内向(I): ${dimensionEI.textContent}
- 实感(S)/直觉(N): ${dimensionSN.textContent}
- 思维(T)/情感(F): ${dimensionTF.textContent}
- 判断(J)/感知(P): ${dimensionJP.textContent}

优势:
${personalityTypes[userPersonalityType]?.strengths.map(s => `• ${s}`).join('\n') || personalityTypes["INFJ"].strengths.map(s => `• ${s}`).join('\n')}

劣势:
${personalityTypes[userPersonalityType]?.weaknesses.map(w => `• ${w}`).join('\n') || personalityTypes["INFJ"].weaknesses.map(w => `• ${w}`).join('\n')}

适合职业:
${personalityTypes[userPersonalityType]?.careers.map(c => `• ${c}`).join('\n') || personalityTypes["INFJ"].careers.map(c => `• ${c}`).join('\n')}

发展建议:
${personalityTypes[userPersonalityType]?.suggestions.map(s => `• ${s}`).join('\n') || personalityTypes["INFJ"].suggestions.map(s => `• ${s}`).join('\n')}

测试时间: ${new Date().toLocaleDateString('zh-CN')}
测试平台: PersonaQuest 趣味科学16人格测试
            `;
            
            const blob = new Blob([resultContent], { type: 'text/plain' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `16人格测试_${userPersonalityType}_${new Date().toISOString().slice(0, 10)}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }

        // 事件监听
        startTestBtn.addEventListener('click', initTest);
        prevBtn.addEventListener('click', prevQuestion);
        nextBtn.addEventListener('click', nextQuestion);
        retakeTestBtn.addEventListener('click', retakeTest);
        shareResultBtn.addEventListener('click', shareResult);
        downloadResultBtn.addEventListener('click', downloadResult);

        // 初始化页面
        window.addEventListener('DOMContentLoaded', () => {
            // 默认显示介绍部分
            introSection.style.display = 'block';
            testSection.style.display = 'none';
            loadingSection.style.display = 'none';
            resultSection.style.display = 'none';
            
            // 添加动画效果
            const observerOptions = {
                threshold: 0.1,
                rootMargin: '0px 0px -50px 0px'
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('fade-in');
                    }
                });
            }, observerOptions);
            
            document.querySelectorAll('.card, .feature, .result-section').forEach(el => {
                observer.observe(el);
            });
        });
    </script>
</body>
</html>
